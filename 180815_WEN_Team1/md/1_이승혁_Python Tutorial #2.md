# Python Tutorial #2

**16 Aug 2018 이승혁**

------

1. Regular Expressions
2. Meta Characters
3. Functions
4. Match Object

------

## 1. Regular Expressions

정규 표현식(Regular Expressions)은 복잡한 문자열을 처리할 때 사용하는 기법으로, 파이썬만의 고유 문법이 아니라 문자열을 처리하는 모든 곳에서 사용되며 Regex나 정규식 이라고 짧게 쓰기도 한다. [[출처]](https://wikidocs.net/1642)

주로 텍스트에서 문자열을 찾거나 치환할 때 사용됩니다. 웹페이지에서 주소, 전화번호등을 찾거나 실행 로그파일에서 특정 에러를 찾기 위해 사용됩니다.

> import re
>
> p = re.compile('ab*')

re.compile 을 이용하여 정규표현식(위 예에서는 `ab*`)을 컴파일하고 컴파일된 패턴객체(re.compile의 결과로 리턴되는 객체 p)를 이용하여 그 이후의 작업을 수행할 것이다. 

패턴이란 정규식을 컴파일한 결과이다.

 

## 2. Meta Characters

메타 문자란 원래 그 문자가 가진 뜻이 아닌 다른 뜻으로 사용되는 문자들을 말합니다.

| 패턴       | 설명                                                         | 예제                                                       |
| ---------- | ------------------------------------------------------------ | ---------------------------------------------------------- |
| ^          | 이 패턴으로 시작해야 함.                                     | ^abc : abc로 시작해야 함. abcd, abc12 등                   |
| $          | 이 패턴으로 종료되어야 함.                                   | xyz$ : xyz로 종료되어야 함. 12xyz, strxyz 등               |
| [문자들]   | 문자 클래스로 대괄호 안의 문자들중에 하나여야 함. 가능한 문자들의 집합을 정의함. | [Pp]ython : "Python" 혹은 "python"                         |
| [^문자들]  | [문자들]의 반대로 피해야 할 문자들의 집합을 정의함.          | [^aeiou] : 소문자 모음이 아닌 문자들                       |
| \|         | 두 패턴 중 하나여야 함                                       | a \| b : a 또는 b여야 함                                   |
| ?          | 앞 패턴이 없거나 하나여야 함. (optional 패턴을 정의할 때 사용) | \d? : 숫자가 하나 있거나 없어야 함                         |
| +          | 앞 패턴이 하나 이상이어야 함.                                | \d+ : 숫자가 하나 이상이어야 함                            |
| *          | 앞 패턴이 0개 이상이어야 함.                                 | \d* : 숫자가 없거나 하나 이상이어야 함                     |
| 패턴{n}    | 앞 패턴이 n번 반복되는 경우.                                 | \d{3} : 숫자가 세번 반복되어야 함                          |
| 패턴{n, m} | 앞 패턴이 최소 n번에서 최대 m번 반복되는 경우.               | \d{3, 5} : 숫자가 세번, 네번 혹은 다섯번 반복되어야 함.    |
| \d         | 숫자 0~9. [0-9]와 동일.                                      | \d\d\d : 0~9 범위의 숫자 세 개를 의미. 123, 000 등         |
| \w         | 문자와 숫자를 의미(Alphanumeric). [a-zA-Z0-9]와 동일.        | \w\w\w : 문자 세 개를 의미. abc, ABC 등                    |
| \s         | 공백문자를 의미하며 [ \t\n\r\f]와 동일. 앞의 빈 칸 하나는 스페이스를 의미함. | \s\s : 공백문자 두개를 의미. (' ', '\t', '\n', '\r', '\f') |
| \D, \W, \S | 대문자의 경우 소문자 패턴의 반대를 뜻함.                     | \D : [ ^0-9]를 의미.                                       |
| .          | \n을 제외한 모든 문자를 의미.                                | .{3} : 문자 세개를 의미. abc, 123 등                       |

[[출처]](http://pythonstudy.xyz/python/article/401-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D-Regex)



## 3. Functions

파이썬에서 정규 표현식을 사용할 때 필요한 re 모듈입니다. 패턴 객체를 리턴하며, 이 객체로 메소드들을 사용할 수 있습니다.

| Method     | 목적                                                         |
| ---------- | ------------------------------------------------------------ |
| match()    | 문자열의 처음부터 정규식과 매칭되는지 조사한다.              |
| search()   | 문자열 전체를 검색하여 정규식과 매칭되는지 조사한다.         |
| findall()  | 정규식과 매치되는 모든 문자열(substring)을 리스트로 리턴한다. |
| finditer() | 정규식과 매치되는 모든 문자열(substring)을 iterator 객체로 리턴한다. |

match는 처음이 일치하지 않으면 None 을 출력하고 search는 처음이 매치되지 않더라도 전체를 조사합니다.

match, search는 정규식과 매치될 때에는 match 객체를 리턴하고 매치되지 않을 경우에는 None을 리턴합니다.

> match 객체란 정규식의 검색 결과로 리턴되는 객체입니다.

**if 문에서 **: ![image](https://user-images.githubusercontent.com/40850499/44176029-1b5ff180-a123-11e8-950b-f9c107af6f02.png)

if문에서 표현식이 참일때만 프로세스를 실행하고 싶다면 위와 같이 if 안에 메소드를 넣어 조건문을 만들 수 있습니다.



## 4. Match Method

match나 search로 리턴되었던 match 객체에서 어떤 문자열이 매치되었는지, 매치된 문자열의 인덱스는 어디서부터 어디까지인지 등을 이용할 수 있게 해줍니다.

| Method  | 목적                                                    |
| ------- | ------------------------------------------------------- |
| group() | 매치된 문자열을 리턴한다.                               |
| start() | 매치된 문자열의 시작 위치를 리턴한다.                   |
| end()   | 매치된 문자열의 끝 위치를 리턴한다.                     |
| span()  | 매치된 문자열의 (시작, 끝) 에 해당되는 튜플을 리턴한다. |

예를 들어, 다음과 같은 코드가 있을 때

```
m = p.search("3 python")

print m.group()
print m.start()
print m.end()
print m.span()
```

결과는 다음과 같습니다.

> 'python'
> 2
> 8
> (2, 8)



이상입니다.